{% extends "layouts/base-fullscreen.html" %}
{% block title %} Register {% endblock title %}
{% block stylesheets %}{% endblock stylesheets %}
{% block body_class %} login {% endblock body_class %}

{% block content %}

	<div class="wrapper wrapper-login wrapper-login-full p-0">
		<div class="login-aside w-50 d-flex flex-column align-items-center justify-content-center text-center bg-secondary-gradient">
			<h1 class="title fw-bold text-white mb-3">
        <a target="_blank" rel="noopener noreferrer" href="https://estavvy.com">
          estavvy
        </a>
			</h1>
			<p class="subtitle text-white op-7">
				Become estate savvy
			</p>
		</div>

		<div class="login-aside w-50 d-flex align-items-center justify-content-center bg-white">
			<div class="container container-login container-transparent animated fadeIn">
                <h3 class="text-center">Create an account</h3>
                
				<div class="text-center">
					{% if msg %}
					  <span class="text-success">{{ msg | safe }}</span>
					{% endif %}
        </div>
                                
				<form role="form" method="post" action="">
          {{ form.hidden_tag() }}
          <div class="login-form">
              <div class="form-group">
                  <label for="fullname" class="placeholder"><b>Username</b></label>
                  {{ form.username(placeholder="Username", class="form-control") }}
              </div>

              <div class="form-group">
                  <label for="email" class="placeholder"><b>Email</b></label>
                  {{ form.email(placeholder="Email", class="form-control") }}
              </div>

              <div class="form-group">
                  <label for="passwordsignin" class="placeholder"><b>Password</b></label>
                  <div class="position-relative">
                      {{ form.password(placeholder="Password", class="form-control", type="password") }}
                      <div class="show-password">
                          <i class="icon-eye"></i>
                      </div>
                  </div>
              </div>

						<div class="form-group form-action-d-flex mb-3">
							<div class="custom-control custom-checkbox">
								<input type="checkbox" class="custom-control-input" id="rememberme" onkeyup="changeDetected">
                <label class="custom-control-label m-0" for="rememberme">
                  <a href="https://esetavvy.com/tnc" target="_blank">
                    Agree the terms
                  </a>
                </label>
							</div>
							<button type="submit" name="register" class="btn btn-secondary col-md-5 float-right mt-3 mt-sm-0 fw-bold" disabled=True>Register</button>
            </div>
            
						<div class="login-account">
							<span class="msg">Have an account?</span>
							<a href="{{ url_for('base_blueprint.login') }}" class="link">Login</a>
                        </div>
            </div>

          </form>
			</div>
		</div>
	</div>

{% endblock content %}

{% block javascripts %}
  <script>
    function changeDetected(){
      if ($('#rememberme').attr('checked') != undefined){
        $('#register').removeAttr('disabled');
      }
    }
  </script>
{% endblock javascripts %}
